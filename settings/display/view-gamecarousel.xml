<!--
  Theme: Superkonna
  Game carousel view: vertical wheel of game marquees
  Classic arcade-style wheel layout with video preview.
-->

<theme>
  <formatVersion>7</formatVersion>

  <view name="gamecarousel">

    <!-- Vertical wheel of game marquees (left side) -->
    <gamecarousel name="gamecarousel">
      <type>vertical_wheel</type>
      <pos>-0.35 0</pos>
      <size>1 1</size>
      <color>00000000</color>
      <logoScale>1.25</logoScale>
      <logoSize>0.18 0.28</logoSize>
      <logoRotation>7</logoRotation>
      <logoRotationOrigin>-2.5 0.3</logoRotationOrigin>
      <logoAlignment>center</logoAlignment>
      <maxLogoCount>7</maxLogoCount>
      <minLogoOpacity>0.35</minLogoOpacity>
      <imageSource>marquee</imageSource>
      <scrollSound>./assets/sounds/scroll.wav</scrollSound>
      <zIndex>43</zIndex>
    </gamecarousel>

    <!-- System name header -->
    <text name="logoText">
      <fontPath>${fontDisplay}</fontPath>
      <forceUppercase>1</forceUppercase>
      <alignment>left</alignment>
      <origin>0 0.5</origin>
      <pos>0.033333 0.065</pos>
      <size>0.4 ${fontSizeH2-medium}</size>
      <zIndex>5</zIndex>
    </text>

    <!-- Selected game screenshot (right side, large) -->
    <image name="md_image">
      <origin>0.5 0.5</origin>
      <pos>0.7 0.45</pos>
      <maxSize>0.5 0.65</maxSize>
      <zIndex>1</zIndex>
      <roundCorners>0.02</roundCorners>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="0" duration="350" mode="easeOut"/>
        <animation property="scale" from="0.97" to="1" begin="0" duration="300" mode="Bump"/>
      </storyboard>
    </image>

    <!-- Video preview over screenshot -->
    <video name="md_video">
      <origin>0.5 0.5</origin>
      <pos>0.7 0.45</pos>
      <maxSize>0.5 0.65</maxSize>
      <zIndex>2</zIndex>
      <delay>1</delay>
      <showSnapshotNoVideo>false</showSnapshotNoVideo>
      <showSnapshotDelay>true</showSnapshotDelay>
      <snapshotSource>thumbnail</snapshotSource>
      <roundCorners>0.02</roundCorners>
      <effect>none</effect>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="0" duration="350" mode="easeOut"/>
      </storyboard>
    </video>

    <!-- Game name (below screenshot) -->
    <text name="md_name">
      <visible>true</visible>
      <fontPath>${fontBody}</fontPath>
      <pos>0.5 0.82</pos>
      <origin>0 0</origin>
      <size>0.45 ${fontSizeBody-medium}</size>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="80" mode="linear"/>
        <animation property="opacity" from="0" to="1" begin="200" duration="200" mode="easeOut"/>
        <animation property="y" from="0.83" to="0.82" begin="200" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Star rating: compact, right of game name area -->
    <rating name="md_rating">
      <visible>true</visible>
      <origin>0 0</origin>
      <filledPath>./assets/icons/star.svg</filledPath>
      <unfilledPath>./assets/icons/star_border.svg</unfilledPath>
      <pos>0.5 0.85</pos>
      <size>0.07 0.02</size>
      <zIndex>5</zIndex>
    </rating>

    <!-- Developer + genre (below rating) -->
    <text name="md_developer">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.5 0.875</pos>
      <size>0.2 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="120" mode="linear"/>
        <animation property="opacity" from="0" to="0.8" begin="250" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <text name="md_genre">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.5 0.9</pos>
      <size>0.2 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="140" mode="linear"/>
        <animation property="opacity" from="0" to="0.8" begin="280" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Publisher (next to developer) -->
    <text name="md_publisher">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.72 0.875</pos>
      <size>0.25 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="120" mode="linear"/>
        <animation property="opacity" from="0" to="0.7" begin="250" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Play time (formatted) -->
    <text name="md_gametime" extra="true">
      <text>{game:gametime.formatseconds()}</text>
      <visible>true</visible>
      <pos>0.5 0.925</pos>
      <size>0.2 ${fontSizeCaption-medium}</size>
      <fontPath>${fontLight}</fontPath>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="160" mode="linear"/>
        <animation property="opacity" from="0" to="0.6" begin="310" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Last played (relative) -->
    <text name="md_lastplayed_rel" extra="true">
      <text>{game:lastplayed.elapsed()}</text>
      <visible>true</visible>
      <pos>0.72 0.925</pos>
      <size>0.25 ${fontSizeCaption-medium}</size>
      <fontPath>${fontLight}</fontPath>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="160" mode="linear"/>
        <animation property="opacity" from="0" to="0.6" begin="310" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Badge row -->
    <image name="badge_cheevos" extra="true">
      <path>./assets/icons/trophy.svg</path>
      <visible>{game:cheevos}</visible>
      <pos>0.5 0.955</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
    </image>

    <image name="badge_mature" extra="true">
      <path>./assets/icons/mature.svg</path>
      <visible>!{game:kidGame}</visible>
      <pos>0.522 0.955</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
    </image>

    <image name="badge_savestate" extra="true">
      <path>./assets/icons/savestate.svg</path>
      <visible>{game:hasSaveState}</visible>
      <pos>0.544 0.955</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
    </image>

    <image name="badge_manual" extra="true">
      <path>./assets/icons/manual.svg</path>
      <visible>{game:hasManual}</visible>
      <pos>0.566 0.955</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
    </image>

    <!-- Hide everything else -->
    <text name="md_lbl_rating, md_lbl_releasedate, md_lbl_developer, md_lbl_publisher, md_lbl_genre, md_lbl_players, md_lbl_lastplayed, md_lbl_playcount, md_releasedate, md_players, md_lastplayed, md_playcount, md_description">
      <visible>false</visible>
    </text>

    <datetime name="md_releasedate, md_lastplayed">
      <visible>false</visible>
    </datetime>

    <!-- Bottom vignette: dark for text legibility below screenshots -->
    <image name="bottom_vignette" extra="true">
      <path>./assets/fade-ver.png</path>
      <size>1 0.35</size>
      <origin>0 1</origin>
      <pos>0 1</pos>
      <zIndex>0</zIndex>
      <rotation>180</rotation>
    </image>

    <!-- Background -->
    <image name="background">
      <pos>0 0</pos>
      <origin>0 0</origin>
      <size>1 1</size>
      <zIndex>-10</zIndex>
    </image>

    <image name="background_overlay" extra="true">
      <size>1 1</size>
      <origin>0 0</origin>
      <pos>0 0</pos>
      <zIndex>-4</zIndex>
    </image>

  </view>
</theme>
