<!--
  Theme: Superkonna
  General view: shared layouts across all views
-->

<theme>
  <formatVersion>7</formatVersion>

  <!-- Bottom bar: floating rounded panel (all views) -->
  <view name="system, basic, detailed, grid, video">
    <image name="bottombar_bg" extra="true">
      <pos>0.015 0.988</pos>
      <origin>0 1</origin>
      <size>0.97 0.055</size>
      <roundCorners>0.012</roundCorners>
      <zIndex>90</zIndex>
    </image>

    <!-- Help prompts: left-aligned in bottom bar -->
    <helpsystem name="help">
      <fontPath>${fontLight}</fontPath>
      <origin>0 0.5</origin>
      <pos>0.035 0.963</pos>
    </helpsystem>
  </view>

  <!-- Navigation sounds (all views) -->
  <view name="system, basic, detailed, grid, video">
    <sound name="back">
      <path>./assets/sounds/back.wav</path>
    </sound>
    <sound name="select">
      <path>./assets/sounds/select.wav</path>
    </sound>
    <sound name="launch">
      <path>./assets/sounds/launch.wav</path>
    </sound>
    <sound name="favorite">
      <path>./assets/sounds/favorite.wav</path>
    </sound>
  </view>

  <!-- Shared game list view settings -->
  <view name="basic, detailed, grid, video">
    <text name="logoText">
      <fontPath>${fontDisplay}</fontPath>
      <forceUppercase>1</forceUppercase>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
    </text>

    <textlist name="gamelist">
      <fontPath>${fontBody}</fontPath>
      <alignment>left</alignment>
      <origin>0 0</origin>
      <zIndex>5</zIndex>
      <scrollSound>./assets/sounds/tick.wav</scrollSound>
    </textlist>

    <image name="background">
      <pos>0 0</pos>
      <origin>0 0</origin>
      <size>1 1</size>
      <zIndex>-10</zIndex>
    </image>

    <image name="cover_list" extra="true">
      <size>1 0</size>
      <origin>0 0.5</origin>
      <pos>0 0.225</pos>
      <minSize>1 0.45</minSize>
      <zIndex>-5</zIndex>
    </image>

    <image name="background_overlay" extra="true">
      <size>1 1</size>
      <origin>0 0</origin>
      <pos>0 0</pos>
      <zIndex>-4</zIndex>
    </image>
  </view>

  <!-- Basic + detailed shared text positions -->
  <view name="basic, detailed, video">
    <text name="logoText">
      <pos>0.05 0.1</pos>
      <size>0.9 ${fontSizeH2-medium}</size>
      <origin>0 0.5</origin>
    </text>

    <textlist name="gamelist">
      <pos>0 0.2</pos>
      <horizontalMargin>0.05</horizontalMargin>
    </textlist>
  </view>

  <!-- Basic view -->
  <view name="basic">
    <textlist name="gamelist">
      <size>1 0.8</size>
      <size ifHelpPrompts="true">1 0.725</size>
    </textlist>
  </view>

  <!-- Metadata defaults (hidden by default, views opt-in) -->
  <view name="detailed, video, grid">
    <text name="md_lbl_rating, md_lbl_releasedate, md_lbl_developer, md_lbl_publisher, md_lbl_genre, md_lbl_players, md_lbl_lastplayed, md_lbl_playcount, md_releasedate, md_developer, md_publisher, md_genre, md_players, md_lastplayed, md_playcount, md_description, md_name">
      <visible>false</visible>
      <fontPath>${fontBody}</fontPath>
      <lineSpacing>1.3</lineSpacing>
    </text>

    <datetime name="md_releasedate, md_lastplayed">
      <visible>false</visible>
    </datetime>
  </view>

  <!-- Detailed view: game list left, media + metadata right -->
  <view name="detailed">
    <textlist name="gamelist">
      <size>0.466667 0.8</size>
      <size ifHelpPrompts="true">0.466667 0.725</size>
    </textlist>

    <!-- Game screenshot: right-center, Bump scale on selection change -->
    <image name="md_image">
      <pos>0.733333 0.48</pos>
      <origin>0.5 0.5</origin>
      <maxSize>0.433333 0.48</maxSize>
      <zIndex>5</zIndex>
      <roundCorners>0.02</roundCorners>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="0" duration="250" mode="easeOut"/>
        <animation property="scale" from="0.98" to="1" begin="0" duration="280" mode="Bump"/>
      </storyboard>
    </image>

    <!-- Game marquee/logo: above screenshot -->
    <image name="md_marquee">
      <pos>0.733333 0.25</pos>
      <origin>0.5 0.5</origin>
      <maxSize>0.4 0.175</maxSize>
      <zIndex>6</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="80" mode="linear"/>
        <animation property="opacity" from="0" to="1" begin="150" duration="200" mode="easeOut"/>
      </storyboard>
    </image>

    <!-- Star rating -->
    <rating name="md_rating">
      <origin>0 0</origin>
      <filledPath>./assets/icons/star.svg</filledPath>
      <unfilledPath>./assets/icons/star_border.svg</unfilledPath>
      <zIndex>5</zIndex>
      <visible>true</visible>
      <pos>0.533333 0.82</pos>
      <size>0.1 0.03</size>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="60" mode="linear"/>
        <animation property="opacity" from="0" to="1" begin="160" duration="180" mode="easeOut"/>
      </storyboard>
    </rating>

    <!-- Show key metadata in detailed view -->
    <text name="md_developer">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.533333 0.86</pos>
      <size>0.15 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="80" mode="linear"/>
        <animation property="opacity" from="0" to="0.85" begin="190" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <text name="md_lbl_developer">
      <visible>false</visible>
    </text>

    <text name="md_genre">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.533333 0.895</pos>
      <size>0.15 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="100" mode="linear"/>
        <animation property="opacity" from="0" to="0.85" begin="220" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <text name="md_lbl_genre">
      <visible>false</visible>
    </text>

    <text name="md_players">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.533333 0.93</pos>
      <size>0.15 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="120" mode="linear"/>
        <animation property="opacity" from="0" to="0.75" begin="250" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <text name="md_lbl_players">
      <visible>false</visible>
    </text>

    <!-- Game description: below game list, left area -->
    <text name="md_description">
      <visible>true</visible>
      <pos>0.05 0.78</pos>
      <size>0.433333 0.12</size>
      <fontPath>${fontLight}</fontPath>
      <lineSpacing>1.4</lineSpacing>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="60" mode="linear"/>
        <animation property="opacity" from="0" to="0.7" begin="140" duration="200" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Publisher -->
    <text name="md_publisher">
      <visible>true</visible>
      <fontPath>${fontLight}</fontPath>
      <pos>0.7 0.86</pos>
      <size>0.25 ${fontSizeCaption-medium}</size>
      <alignment>left</alignment>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="80" mode="linear"/>
        <animation property="opacity" from="0" to="0.75" begin="190" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Play time (formatted) -->
    <text name="md_gametime" extra="true">
      <text>{game:gametime.formatseconds()}</text>
      <visible>true</visible>
      <pos>0.7 0.895</pos>
      <size>0.25 ${fontSizeCaption-medium}</size>
      <fontPath>${fontLight}</fontPath>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="100" mode="linear"/>
        <animation property="opacity" from="0" to="0.65" begin="220" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Last played (relative) -->
    <text name="md_lastplayed_rel" extra="true">
      <text>{game:lastplayed.elapsed()}</text>
      <visible>true</visible>
      <pos>0.7 0.93</pos>
      <size>0.25 ${fontSizeCaption-medium}</size>
      <fontPath>${fontLight}</fontPath>
      <alignment>left</alignment>
      <zIndex>5</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="120" mode="linear"/>
        <animation property="opacity" from="0" to="0.55" begin="250" duration="180" mode="easeOut"/>
      </storyboard>
    </text>

    <!-- Badge row: trophy, mature, savestate, manual -->
    <image name="badge_cheevos" extra="true">
      <path>./assets/icons/trophy.svg</path>
      <visible>{game:cheevos}</visible>
      <pos>0.533333 0.78</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="140" duration="180" mode="easeOut"/>
      </storyboard>
    </image>

    <image name="badge_mature" extra="true">
      <path>./assets/icons/mature.svg</path>
      <visible>!{game:kidGame}</visible>
      <pos>0.555 0.78</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="160" duration="180" mode="easeOut"/>
      </storyboard>
    </image>

    <image name="badge_savestate" extra="true">
      <path>./assets/icons/savestate.svg</path>
      <visible>{game:hasSaveState}</visible>
      <pos>0.577 0.78</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="180" duration="180" mode="easeOut"/>
      </storyboard>
    </image>

    <image name="badge_manual" extra="true">
      <path>./assets/icons/manual.svg</path>
      <visible>{game:hasManual}</visible>
      <pos>0.599 0.78</pos>
      <maxSize>0.018 0.018</maxSize>
      <origin>0 0.5</origin>
      <zIndex>6</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="200" duration="180" mode="easeOut"/>
      </storyboard>
    </image>
  </view>

  <!-- Video view: full-screen video/art top, game list bottom -->
  <view name="video">
    <image name="md_marquee">
      <pos>0.2 0.1875</pos>
      <origin>0.5 0.5</origin>
      <maxSize>0.333333333 0.325</maxSize>
      <storyboard>
        <animation property="opacity" from="0" to="0" duration="80" mode="linear"/>
        <animation property="opacity" from="0" to="1" begin="200" duration="200" mode="easeOut"/>
      </storyboard>
    </image>

    <image name="md_image">
      <origin>0.5 0.5</origin>
      <pos>0.7 0.25</pos>
      <minSize>0.7 0.55</minSize>
      <zIndex>-1</zIndex>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="0" duration="400" mode="easeOut"/>
      </storyboard>
    </image>

    <video name="md_video">
      <origin>0.5 0.5</origin>
      <pos>0.7 0.25</pos>
      <minSize>0.7 0.55</minSize>
      <zIndex>0</zIndex>
      <delay>1</delay>
      <showSnapshotNoVideo>false</showSnapshotNoVideo>
      <showSnapshotDelay>true</showSnapshotDelay>
      <snapshotSource>thumbnail</snapshotSource>
      <roundCorners>0.02</roundCorners>
      <effect>none</effect>
      <storyboard>
        <animation property="opacity" from="0" to="1" begin="0" duration="400" mode="easeOut"/>
      </storyboard>
    </video>

    <rating name="md_rating">
      <visible>false</visible>
    </rating>

    <image name="background_overlay" extra="true">
      <size>1 1</size>
      <origin>0 0</origin>
      <pos>0 0</pos>
      <zIndex>4</zIndex>
    </image>

    <textlist name="gamelist">
      <pos>0 0.45</pos>
      <size>1 0.55</size>
      <size ifHelpPrompts="true">1 0.475</size>
    </textlist>

    <text name="logoText">
      <origin>0 0.5</origin>
      <pos>0.05 0.4</pos>
    </text>
  </view>
</theme>
